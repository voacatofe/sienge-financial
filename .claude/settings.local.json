{
  "permissions": {
    "allow": [
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\nSELECT \n    bill_id as titulo,\n    installment_id as parc,\n    original_amount as valor,\n    balance_amount as saldo,\n    status_parcela,\n    CASE \n        WHEN balance_amount = 0 AND status_parcela = ''Paga'' THEN ''OK''\n        WHEN due_date < CURRENT_DATE AND balance_amount > 0 AND status_parcela = ''Vencida'' THEN ''OK''\n        WHEN balance_amount > 0 AND status_parcela IN (''A Pagar'', ''Vencida'') THEN ''OK''\n        ELSE ''ERRO''\n    END as check\nFROM outcome_data \nWHERE \n    (bill_id = 107684 AND installment_id = 1) OR\n    (bill_id = 108654 AND installment_id = 1) OR\n    (bill_id = 106146 AND installment_id = 2) OR\n    (bill_id = 87973 AND installment_id = 9) OR\n    (bill_id = 109560 AND installment_id = 1) OR\n    (bill_id = 80171 AND installment_id = 8) OR\n    (bill_id = 95869 AND installment_id = 17) OR\n    (bill_id = 107503 AND installment_id = 3) OR\n    (bill_id = 107270 AND installment_id = 1) OR\n    (bill_id = 90133 AND installment_id = 7) OR\n    (bill_id = 108586 AND installment_id = 1) OR\n    (bill_id = 109069 AND installment_id = 1) OR\n    (bill_id = 107088 AND installment_id IN (9, 12))\nORDER BY bill_id, installment_id;\")",
      "Bash(PGPASSWORD:*)",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\nSELECT \n    id,\n    bill_id,\n    installment_id,\n    creditor_name,\n    document_number,\n    due_date,\n    original_amount,\n    discount_amount,\n    tax_amount,\n    balance_amount,\n    status_parcela,\n    payments::text as pagamentos_json\nFROM outcome_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND due_date = ''2025-09-23''\nORDER BY bill_id, installment_id;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\n-- Soma total dos valores líquidos pagos\nWITH payment_values AS (\n    SELECT \n        id,\n        bill_id,\n        jsonb_array_elements(payments::jsonb) as payment_item\n    FROM outcome_data \n    WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n      AND due_date = ''2025-09-23''\n)\nSELECT \n    COUNT(DISTINCT bill_id) as total_titulos,\n    COUNT(*) as total_pagamentos,\n    SUM((payment_item->>''netAmount'')::numeric) as soma_valor_liquido\nFROM payment_values;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT SUM((jsonb_array_elements(payments::jsonb)->>''netAmount'')::numeric) as total_liquido FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND due_date = ''2025-09-23'';\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\nSELECT \n    ''CONTAS A PAGAR'' as tipo,\n    COUNT(*) as qtd_registros,\n    SUM(original_amount) as soma_valores\nFROM outcome_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND due_date = ''2025-09-23''\nUNION ALL\nSELECT \n    ''CONTAS A RECEBER'' as tipo,\n    COUNT(*) as qtd_registros,\n    SUM(original_amount) as soma_valores\nFROM income_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND due_date = ''2025-09-23'';\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\nSELECT \n    bill_id,\n    creditor_name,\n    original_amount,\n    jsonb_array_length(payments::jsonb) as qtd_pagamentos\nFROM outcome_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND due_date = ''2025-09-23''\nORDER BY bill_id;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql:*)",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\nSELECT \n    creditor_name,\n    COUNT(*) as qtd_titulos,\n    MIN(due_date) as primeira_data,\n    MAX(due_date) as ultima_data,\n    SUM(original_amount) as soma_valores\nFROM outcome_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND (\n    creditor_name LIKE ''%SPE VOLUNTARIOS%'' OR\n    creditor_name LIKE ''%RODRIGUES%RAZZERA%'' OR\n    creditor_name LIKE ''%BRASCON%'' OR\n    creditor_name LIKE ''%BOMBATEK%'' OR\n    creditor_name LIKE ''%FORTPEL%''\n  )\nGROUP BY creditor_name\nORDER BY creditor_name;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"\n-- Verificar se os credores do Looker têm registros próximos de 23/09\nSELECT \n    creditor_name,\n    due_date,\n    original_amount,\n    balance_amount,\n    status_parcela\nFROM outcome_data \nWHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA''\n  AND creditor_name IN (\n    ''SPE VOLUNTARIOS EMPREENDIMENTOS IMOBILIARIOS LTDA.'',\n    ''RODRIGUES, RAZZERA E FONTOURA ADVOGADOS'',\n    ''BRASCON ATAC E DISTRIB DE MATERIAIS LIMPEZA ELETR ESCRIT. E FERRAMENTAS LTDA'',\n    ''BOMBATEK COMERCIO E MANUTENCAO DE MAQUINAS LTDA'',\n    ''FORTPEL COMERCIO DE DESCARTAVEIS LTDA''\n  )\n  AND due_date BETWEEN ''2025-09-01'' AND ''2025-09-30''\nORDER BY creditor_name, due_date;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date, original_amount, balance_amount, status_parcela FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND creditor_name LIKE ''%SPE VOLUNTARIOS%'' AND due_date >= ''2025-09-01'' AND due_date <= ''2025-09-30'' ORDER BY due_date;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date, original_amount FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND due_date >= ''2025-09-20'' AND due_date <= ''2025-09-26'' AND original_amount IN (30702.67, 5000, 1046.84, 995, 746.07) ORDER BY due_date, original_amount DESC;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date, original_amount, balance_amount FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND (creditor_name LIKE ''%BRASCON%'' OR creditor_name LIKE ''%FORTPEL%'') AND due_date >= ''2025-09-15'' AND due_date <= ''2025-09-30'' ORDER BY due_date, creditor_name;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date, original_amount, balance_amount, TO_CHAR(due_date, ''YYYY-MM-DD\"\"T\"\"HH24:MI:SS\"\"Z\"\"'') as iso_format FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND due_date >= ''2025-09-23'' AND due_date <= ''2025-09-24'' ORDER BY due_date, original_amount DESC;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date AT TIME ZONE ''UTC'' as due_date_utc, due_date AT TIME ZONE ''America/Sao_Paulo'' as due_date_brt, original_amount FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND creditor_name IN (''SPE VOLUNTARIOS EMPREENDIMENTOS IMOBILIARIOS LTDA.'', ''RODRIGUES, RAZZERA E FONTOURA ADVOGADOS'', ''BRASCON ATAC E DISTRIB DE MATERIAIS LIMPEZA ELETR ESCRIT. E FERRAMENTAS LTDA'', ''BOMBATEK COMERCIO E MANUTENCAO DE MAQUINAS LTDA'', ''FORTPEL COMERCIO DE DESCARTAVEIS LTDA'') AND due_date >= ''2025-09-20'' AND due_date <= ''2025-09-26'' ORDER BY due_date, original_amount DESC;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT creditor_name, due_date, original_amount, balance_amount, payments::text as pagamentos_json FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND due_date = ''2025-09-24'' AND creditor_name IN (''SPE VOLUNTARIOS EMPREENDIMENTOS IMOBILIARIOS LTDA.'', ''BOMBATEK COMERCIO E MANUTENCAO DE MAQUINAS LTDA'') ORDER BY original_amount DESC;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT ''BRASCON'' as credor, COUNT(*) as qtd_titulos, SUM(original_amount) as total_original FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND creditor_name LIKE ''%BRASCON%'' AND due_date = ''2025-09-24'' UNION ALL SELECT ''FORTPEL'', COUNT(*), SUM(original_amount) FROM outcome_data WHERE company_name = ''ABF EMPREENDIMENTOS IMOBILIARIOS LTDA'' AND creditor_name LIKE ''%FORTPEL%'' AND due_date = ''2025-09-24'';\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT COUNT(*) as total_records FROM outcome_data;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT COUNT(*) as total_records FROM income_data;\")",
      "Bash(PGPASSWORD=\"TROQUE_ESTA_SENHA_EM_PRODUCAO\" psql -h 147.93.15.121 -p 5436 -U sienge_app -d sienge_data -c \"SELECT tablename, pg_size_pretty(pg_total_relation_size(schemaname||''.''||tablename)) AS size FROM pg_tables WHERE schemaname = ''public'' AND (tablename = ''income_data'' OR tablename = ''outcome_data'');\")",
      "SlashCommand(/sc:analyze)",
      "WebSearch",
      "Bash(python:*)",
      "Bash(PGPASSWORD='TROQUE_ESTA_SENHA_EM_PRODUCAO' psql:*)"
    ],
    "deny": [],
    "ask": []
  }
}